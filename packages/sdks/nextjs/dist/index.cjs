"use strict";"use client";var w=Object.create;var s=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var l=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,v=Object.prototype.hasOwnProperty;var P=(e,n)=>{for(var r in n)s(e,r,{get:n[r],enumerable:!0})},u=(e,n,r,o)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of l(n))!v.call(e,t)&&t!==r&&s(e,t,{get:()=>n[t],enumerable:!(o=f(n,t))||o.enumerable});return e};var h=(e,n,r)=>(r=e!=null?w(m(e)):{},u(n||!e||!e.__esModule?s(r,"default",{value:e,enumerable:!0}):r,e)),g=e=>u(s({},"__esModule",{value:!0}),e);var y={};P(y,{OpenPreview:()=>O});module.exports=g(y);var i=h(require("react"),1),p=require("next/navigation");function O({projectId:e,cdnUrl:n="https://cdn.openpreview.dev/opv2.js"}){let r=(0,p.usePathname)(),o=(0,p.useSearchParams)(),t=(0,i.useRef)(null),a=(0,i.useRef)(!1);return(0,i.useEffect)(()=>{if(typeof window>"u")return;let d=()=>{window.OpenPreview&&!a.current&&(window.OpenPreview.init({projectId:e,path:r,search:o.toString()}),a.current=!0)};if(t.current)d();else{let c=document.createElement("script");c.src=n,c.async=!0,c.onload=d,document.body.appendChild(c),t.current=c}return()=>{t.current&&document.body.contains(t.current)&&document.body.removeChild(t.current)}},[e,r,o,n]),(0,i.useEffect)(()=>{window.OpenPreview&&window.OpenPreview.init({projectId:e,path:r,search:o.toString()})},[e,r,o]),i.default.createElement("div",{id:"openpreview-container"})}0&&(module.exports={OpenPreview});
